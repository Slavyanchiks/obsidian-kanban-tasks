# Obsidian Kanban Tasks

Плагин для быстрого создания задач в Kanban досках через удобную форму, вызываемую горячими клавишами. Какие ещё задачи в Kanban? Читай здесь

## Возможности

- Создание задач через форму по горячим клавишам (Ctrl+K)
- Работа только с досками, помеченными `is-task-board: true` в frontmatter
- Автоматическое извлечение тегов и формата даты из настроек Kanban доски
- Поддержка:
  - Выбора столбца (lane) для задачи
  - Названия задачи
  - Добавления даты и времени
  - Выбора тегов с цветами из настроек доски

## Использование

### Настройка Kanban доски

Добавьте в frontmatter вашей Kanban доски:

```yaml
---
is-task-board: true
kanban-plugin: board
---
```

Убедитесь, что настройки доски содержат информацию о формате даты и цветах тегов:

```
%% kanban:settings
```json
{
  "date-format": "DD.MM.YYYY",
  "date-display-format": "DD.MM.YYYY",
  "tag-colors": [
    {"tagKey": "#долго", "color": "rgba(255, 255, 255, 1)", "backgroundColor": "rgba(186, 9, 9, 1)"},
    {"tagKey": "#средне", "color": "rgba(255, 255, 255, 1)", "backgroundColor": "rgba(217, 171, 3, 1)"},
    {"tagKey": "#быстро", "color": "rgba(255, 255, 255, 1)", "backgroundColor": "rgba(34, 170, 0, 1)"}
  ]
}
``
%%
```

### Создание задачи

1. Нажмите `Ctrl+K` (или вызовите команду "Create Kanban task" из палитры команд)
2. Если у вас несколько task boards - выберите нужную доску
3. Заполните форму:
   - **Список (обязательно)** - выберите столбец для задачи
   - **Название задачи (обязательно)** - введите описание задачи
   - **Дата** - выберите дату (используйте кнопку "Today" для текущей даты)
   - **Время** - укажите время в формате HH:MM
   - **Теги** - выберите теги из настроек доски
4. Нажмите "Create Task"

Задача будет добавлена в выбранный столбец в формате:
```
- [ ] Название задачи #тег1 #тег2 @{дата} @{время}
```

## Архитектура

Плагин состоит из следующих модулей:

- **parsers/** - Парсинг Kanban досок и настроек
  - `SettingsParser.ts` - извлечение настроек из комментария
  - `KanbanParser.ts` - парсинг структуры доски
- **managers/** - Бизнес-логика
  - `TaskBoardManager.ts` - поиск и выбор task boards
  - `TaskWriter.ts` - запись задач в доску
- **modals/** - UI компоненты
  - `TaskCreationModal.ts` - форма создания задачи
  - `BoardSelectorModal.ts` - выбор доски
- **utils/** - Вспомогательные утилиты
  - `DateTimeUtils.ts` - работа с датами и временем

## Лицензия

MIT